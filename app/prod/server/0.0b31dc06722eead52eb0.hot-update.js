exports.id=0,exports.modules={"./src/server/config.json":function(e){e.exports=JSON.parse('{"localhost":{"url":"http://localhost:8545","dataAddress":"0x345cA3e014Aaf5dcA488057592ee47305D9B3e10","appAddress":"0xf25186B5081Ff5cE73482AD761DB0eB0d25abfBF"}}')},"./src/server/server.js":function(e,t,s){"use strict";s.r(t);var o=s("../build/contracts/FlightSuretyApp.json"),a=s("../build/contracts/FlightSuretyData.json"),r=s("./src/server/config.json"),c=s("web3"),n=s.n(c),l=s("express"),d=s.n(l);let i=r.localhost,u=new n.a(new n.a.providers.WebsocketProvider(i.url.replace("http","ws"))),p=new u.eth.Contract(o.abi,i.appAddress),h=new u.eth.Contract(a.abi,i.dataAddress);const f=[];(async()=>{const e=await u.eth.getAccounts(),t=e.slice(e.length/2);u.eth.defaultAccount=e[0];const{amIAuthorized:s,registerOracle:o,getMyIndexes:a,REGISTRATION_FEE:r}=p.methods,{authorizeContract:c}=h.methods;await s.call()||(console.log("App contract is not authorized. Calling authorize contract"),await c(deployedNetwork.address).send({from:(void 0).account}));const n=await r.call();t.forEach(async e=>{await o().send({from:e,value:n});const t=await a().call({from:e});f.push({acct:e,indexes:t})})})(),p.events.OracleRequest({fromBlock:0},(function(e,t){e&&console.log(e),console.log(t)}));const A=d()();A.get("/api",(e,t)=>{t.send({message:"An API for use with your Dapp!"})}),t.default=A}};